<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.1.0/css/all.css" integrity="sha384-lKuwvrZot6UHsBSfcMvOkWwlCMgc0TaWr+30HWe3a4ltaBwTZhyTEggF5tJv8tbt"
        crossorigin="anonymous">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.1/css/bootstrap.min.css" integrity="sha384-WskhaSGFgHYWDcbwN70/dfYBj47jz9qbsMId/iRN3ewGhXQFZCSftd1LZCfmhktB"
        crossorigin="anonymous">
    <link rel="stylesheet" href="css/style.css">
    <title>Late Latte Cafe</title>
</head>

<body>

    <!-- NAVBAR -->
    <nav class="navbar navbar-expand-md navbar-dark bg-dark fixed-top">
        <div class="container">
            <a href="/" class="navbar-brand">Late Latte Cafe</a>
            <button class="navbar-toggler" data-toggle="collapse" data-target="#navbarCollapse">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarCollapse">
                <ul class="navbar-nav ml-auto">
                    <li class="nav-item">
                        <a href="/" class="nav-link">Home</a>
                    </li>
                    <li class="nav-item active">
                        <a href="menu" class="nav-link">Menu</a>
                    </li>
                    <li class="nav-item">
                        <a id="login-link" href="login" class="nav-link">Log In</a>
                    </li>
                    <li class="nav-item">
                        <a id="signup-link" href="signup" class="nav-link">Sign Up</a>
                    </li>
                    <li class="nav-item">
                        <a href="shoppingcart" class="nav-link">Shopping Cart</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <!-- MENU -->
    <section id="menu" class="text-center pt-5">
        <div class="container">
            <div class="row">
                <div class="col-md-4 col-sm-6">
                    <div class="card">
                        <div class="card-body">
                            <img src="img/coffee1.jpeg" alt="" class="img-fluid card-img-top w-50 mb-3">
                            <h6 class="card-title">Nitro Cold Brew</h6>
                            <small>$170</small>
                            <hr>
                            <div class="d-flex mb-3 justify-content-center">
                                <form class="form-inline">
                                    <select id="select-1" class="mr-3">
                                        <option>1</option>
                                        <option>2</option>
                                        <option>3</option>
                                        <option>4</option>
                                        <option>5</option>
                                        <option>6</option>
                                        <option>7</option>
                                        <option>8</option>
                                        <option>9</option>
                                        <option>10</option>
                                    </select>
                                </form>
                                <button id="btn-1" class="btn btn-sm">Add To Cart</button>
                            </div>
                            <blockquote class="blockquote text-left">
                                <p>Black as the devil, hot as hell, pure as an angel, sweet as love.</p>
                                <footer class="blockquote-footer">Charles Maurice de Talleyrand-Périgord</footer>
                            </blockquote>
                        </div>
                    </div>
                </div>
                <div class="col-md-4 col-sm-6">
                    <div class="card">
                        <div class="card-body">
                            <img src="img/coffee2.jpeg" alt="" class="img-fluid card-img-top w-50 mb-3">
                            <h6 class="card-title">Vanilla Sweet Cream Cold Brew Coffee</h6>
                            <small>$185</small>
                            <hr>
                            <div class="d-flex mb-3 justify-content-center">
                                <form class="form-inline">
                                    <select id="select-2" class="mr-3">
                                        <option>1</option>
                                        <option>2</option>
                                        <option>3</option>
                                        <option>4</option>
                                        <option>5</option>
                                        <option>6</option>
                                        <option>7</option>
                                        <option>8</option>
                                        <option>9</option>
                                        <option>10</option>
                                    </select>
                                </form>
                                <button id="btn-2" class="btn btn-sm">Add To Cart</button>
                            </div>
                            <blockquote class="blockquote text-left">
                                <p>Without my morning coffee I'm just like a dried up piece of roast goat.</p>
                                <footer class="blockquote-footer">Johann Sebastian Bach</footer>
                            </blockquote>
                        </div>
                    </div>
                </div>
                <div class="col-md-4 col-sm-6">
                    <div class="card">
                        <div class="card-body">
                            <img src="img/coffee3.jpeg" alt="" class="img-fluid card-img-top w-50 mb-3">
                            <h6 class="card-title">Cold Brew Coffee</h6>
                            <small>$160</small>
                            <hr>
                            <div class="d-flex mb-3 justify-content-center">
                                <form class="form-inline">
                                    <select id="select-3" class="mr-3">
                                        <option>1</option>
                                        <option>2</option>
                                        <option>3</option>
                                        <option>4</option>
                                        <option>5</option>
                                        <option>6</option>
                                        <option>7</option>
                                        <option>8</option>
                                        <option>9</option>
                                        <option>10</option>
                                    </select>
                                </form>
                                <button id="btn-3" class="btn btn-sm">Add To Cart</button>
                            </div>
                            <blockquote class="blockquote text-left">
                                <p>I would rather suffer with coffee than be senseless.</p>
                                <footer class="blockquote-footer">Napoleon Bonaparte</footer>
                            </blockquote>
                        </div>
                    </div>
                </div>
                <div class="col-md-4 col-sm-6">
                    <div class="card">
                        <div class="card-body">
                            <img src="img/coffee4.jpeg" alt="" class="img-fluid card-img-top w-50 mb-3">
                            <h6 class="card-title">Green Tea Cream Frappuccino® Blended Beverage</h6>
                            <small>$180</small>
                            <hr>
                            <div class="d-flex mb-3 justify-content-center">
                                <form class="form-inline">
                                    <select id="select-4" class="mr-3">
                                        <option>1</option>
                                        <option>2</option>
                                        <option>3</option>
                                        <option>4</option>
                                        <option>5</option>
                                        <option>6</option>
                                        <option>7</option>
                                        <option>8</option>
                                        <option>9</option>
                                        <option>10</option>
                                    </select>
                                </form>
                                <button id="btn-4" class="btn btn-sm">Add To Cart</button>
                            </div>
                            <blockquote class="blockquote text-left">
                                <p>I think if I were a woman I'd wear coffee as a perfume.</p>
                                <footer class="blockquote-footer">John Van Drute</footer>
                            </blockquote>
                        </div>
                    </div>
                </div>
                <div class="col-md-4 col-sm-6">
                    <div class="card">
                        <div class="card-body">
                            <img src="img/coffee5.jpeg" alt="" class="img-fluid card-img-top w-50 mb-3">
                            <h6 class="card-title">Java Chip Frappuccino® Blended Beverage</h6>
                            <small>$185</small>
                            <hr>
                            <div class="d-flex mb-3 justify-content-center">
                                <form class="form-inline">
                                    <select id="select-5" class="mr-3">
                                        <option>1</option>
                                        <option>2</option>
                                        <option>3</option>
                                        <option>4</option>
                                        <option>5</option>
                                        <option>6</option>
                                        <option>7</option>
                                        <option>8</option>
                                        <option>9</option>
                                        <option>10</option>
                                    </select>
                                </form>
                                <button id="btn-5" class="btn btn-sm">Add To Cart</button>
                            </div>
                            <blockquote class="blockquote text-left">
                                <p>I gave up coffee. It's almost worse than giving up a lover.</p>
                                <footer class="blockquote-footer">Sandra Bullock</footer>
                            </blockquote>
                        </div>
                    </div>
                </div>
                <div class="col-md-4 col-sm-6 mb-5">
                    <div class="card">
                        <div class="card-body">
                            <img src="img/coffee6.jpeg" alt="" class="img-fluid card-img-top w-50 mb-3">
                            <h6 class="card-title">Chocolate Cream Java Chip Frappuccino® Blended Beverage</h6>
                            <small>$160</small>
                            <hr>
                            <div class="d-flex mb-3 justify-content-center">
                                <form class="form-inline">
                                    <select id="select-6" class="mr-3">
                                        <option>1</option>
                                        <option>2</option>
                                        <option>3</option>
                                        <option>4</option>
                                        <option>5</option>
                                        <option>6</option>
                                        <option>7</option>
                                        <option>8</option>
                                        <option>9</option>
                                        <option>10</option>
                                    </select>
                                </form>
                                <button id="btn-6" class="btn btn-sm">Add To Cart</button>
                            </div>
                            <blockquote class="blockquote text-left">
                                <p>Once you wake up and smell the coffee, it's hard to go back to sleep.</p>
                                <footer class="blockquote-footer">Fran Drescher</footer>
                            </blockquote>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- FOOTER -->
    <footer id="menu-footer" class="fixed-bottom">
        <div class="container">
            <div class="row">
                <div class="col">
                    <h5 id="h5-1" class="mt-2  float-left"></h5>
                    <p id="p-1" class="mt-2 float-left">total price:
                        <span class="text-danger h5" th:text="' $' + ${totalPrice}"></span>
                    </p>
                    <a th:href="@{/shoppingcart}" id="btn-check" class="btn mt-1 px-4 float-right">
                        <i class="fas fa-shopping-cart"></i>
                    </a>
                    <button id="btn-clear" class="btn float-right mt-1 mr-2 px-4">
                        <i class="fas fa-trash-alt"></i>
                    </button>
                    <input id="login-flag" type="hidden" th:value="${loginFlag}">
                </div>
            </div>
        </div>
    </footer>

    <script src="https://code.jquery.com/jquery-3.3.1.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8="
        crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49"
        crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.1/js/bootstrap.min.js" integrity="sha384-smHYKdLADwkXOn1EmN1qk/HfnUcbVRZyYmZ4qpPea6sjB/pTJ0euyQp0Mk8ck+5T"
        crossorigin="anonymous"></script>
    <script th:inline="javascript">

        $(document).ready(function () {
            var totalPrice = [[${ totalPrice }]];
            var loginFlag = [[${ loginFlag }]];

            if (loginFlag == 1) {
                $('#login-link').text('log out');
                $('#login-link').attr('href', 'logout');
                $('#signup-link').text('orders');
                $('#signup-link').attr('href', 'orders');
            }

            if (totalPrice == 0) {
                $('#h5-1').text('Please choose the drinks');
                $('#p-1').hide();
                $('#btn-clear').hide();
                $('#btn-check').hide();
            }
        });

        $('#menu button').click(function (e) {
            var btnId = e.target.id;
            var coffees = [];

            switch (btnId) {
                case 'btn-1':
                    coffees[0] = 1;
                    coffees[1] = 'Nitro Cold Brew';
                    coffees[2] = 170;
                    coffees[3] = $('#select-1').val();
                    break;

                case 'btn-2':
                    coffees[0] = 2;
                    coffees[1] = 'Vanilla Sweet Cream Cold Brew Coffee';
                    coffees[2] = 185;
                    coffees[3] = $('#select-2').val();
                    break;

                case 'btn-3':
                    coffees[0] = 3;
                    coffees[1] = 'Cold Brew Coffee';
                    coffees[2] = 160;
                    coffees[3] = $('#select-3').val();
                    break;

                case 'btn-4':
                    coffees[0] = 4;
                    coffees[1] = 'Green Tea Cream Frappuccino® Blended Beverage';
                    coffees[2] = 180;
                    coffees[3] = $('#select-4').val();
                    break;

                case 'btn-5':
                    coffees[0] = 5;
                    coffees[1] = 'Java Chip Frappuccino® Blended Beverage';
                    coffees[2] = 185;
                    coffees[3] = $('#select-5').val();
                    break;

                case 'btn-6':
                    coffees[0] = 6;
                    coffees[1] = 'Chocolate Cream Java Chip Frappuccino® Blended Beverage';
                    coffees[2] = 160;
                    coffees[3] = $('#select-6').val();
                    break;
            }

            $.ajax({
                type: 'POST',
                url: '/order?coffees=' + coffees,
                error: function () {
                    console.log("error");
                },
                success: function () {
                    location.reload();
                }
            })
        });

        $('#btn-clear').click(function () {
            $.ajax({
                type: 'POST',
                url: '/clear',
                error: function () {
                    console.log('error');
                },
                success: function () {
                    location.reload();
                }
            })
        });

    </script>
</body>

</html>